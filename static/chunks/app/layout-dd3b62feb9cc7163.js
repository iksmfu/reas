(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9852:function(e,n,t){Promise.resolve().then(t.t.bind(t,2445,23)),Promise.resolve().then(t.bind(t,8009)),Promise.resolve().then(t.bind(t,3526)),Promise.resolve().then(t.bind(t,1616)),Promise.resolve().then(t.bind(t,7634))},9713:function(e,n,t){"use strict";t.d(n,{EW:function(){return a},rx:function(){return i}});var r=t(2893);let l="https://api.amitermed.com/v1",a=async e=>(await fetch("".concat(l,"/user/username"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:(0,r.C)()},body:JSON.stringify(e)})).json(),i=async()=>(await fetch("".concat(l,"/user/usernames"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:(0,r.C)()}})).json()},2893:function(e,n,t){"use strict";t.d(n,{C:function(){return r},v:function(){return l}});let r=()=>JSON.parse(decodeURIComponent(document.cookie.split("sb-gbsagasfzyrbrxpzambz-auth-token=")[1]))[0];async function l(e){try{return navigator.clipboard.writeText(e),!0}catch(e){return!1}}},3110:function(e,n,t){"use strict";t.d(n,{b:function(){return d},e:function(){return s}});var r=t(3827),l=t(1193),a=t(4434),i=t(7898),o=t(8727);let s=[{icon:(0,r.jsx)(a.Z,{size:18}),title:"Dashboard",linkName:"/dashboard"},{icon:(0,r.jsx)(i.Z,{size:18}),title:"My Links",linkName:"/dashboard/links",badge:{icon:(0,r.jsx)(o.Z,{size:10}),title:"New"}}],d=[{id:1,title:"discord",name:"Discord",icon:(0,r.jsx)(l.QZ,{network:"discord",bgColor:"#FFFFFF00"})},{id:2,title:"github",name:"Github",icon:(0,r.jsx)(l.QZ,{network:"github",bgColor:"#FFFFFF00"})},{id:3,title:"telegram",name:"Telegram",icon:(0,r.jsx)(l.QZ,{network:"telegram",bgColor:"#FFFFFF00"})},{id:4,title:"twitch",name:"Twitch",icon:(0,r.jsx)(l.QZ,{network:"twitch",bgColor:"#FFFFFF00"})}]},5211:function(e,n,t){"use strict";t.d(n,{e:function(){return r}});let r=(0,t(2153).cn)({key:"modalState",default:{modalName:null,modalData:{}}})},6448:function(e,n,t){"use strict";t.d(n,{d:function(){return a},h:function(){return l}});var r=t(2153);let l=(0,r.cn)({key:"sidebarOpen",default:!1}),a=(0,r.cn)({key:"refetchData",default:!1})},7907:function(e,n,t){"use strict";var r=t(5313);t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}})},3526:function(e,n,t){"use strict";t.r(n),t.d(n,{ModalProvider:function(){return P}});var r=t(3827),l=t(9124),a=t(3234),i=t(2561),o=t(7725),s=t(2646),d=t(2423),u=t(4090),c=t(2153),m=t(5211),h=t(7907),f=t(5021),v=t(4078),x=t(3110),p=t(5700);let b=(0,t(7461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var g=t(8009),j=t(9713),C=t(6448);function k(){(0,h.useRouter)();let[e,n]=(0,c.FV)(m.e),[t,k]=(0,c.FV)(C.d),[y,F]=(0,u.useState)(!1),[w,P]=(0,u.useState)({socialMedia:"",username:""});if((null==e?void 0:e.modalName)!="CreateLinkModal")return null;let R=()=>{n({modalName:null}),P({username:"",socialMedia:""})},L=()=>{if(!(null==w?void 0:w.username)||!(null==w?void 0:w.socialMedia)){g.default.error("Please fill in all the fields");return}F(!0);let e=new Promise(async function(e,r){try{let l={username:null==w?void 0:w.username,platform:null==w?void 0:w.socialMedia},a=await(0,j.EW)(l);(null==a?void 0:a.error)===0?(e("Successfully Created Link"),n({modalName:null}),k(!t),P({username:"",socialMedia:""}),F(!1)):(null==a?void 0:a.error)===1&&(r(null==a?void 0:a.msg),F(!1))}catch(e){r("[CLIENT_ERROR] at CreateLinkModal"),F(!1)}});g.default.promise(e,{loading:"Creating Link...",success:e=>e,error:e=>e})},E=e=>{var n;let t=null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.value,r=x.b[t-1];P({...w,socialMedia:null==r?void 0:r.title})},A=e=>{P({...w,username:e})},M=e=>e.charAt(0).toUpperCase()+e.slice(1);return(0,r.jsx)(l.R,{className:"bg-[#0e1015] border-[#1e1f22] border-1 border-solid dark",backdrop:"opaque",hideCloseButton:!0,placement:"auto",onOpenChange:R,isOpen:(null==e?void 0:e.modalName)==="CreateLinkModal",children:(0,r.jsxs)(a.A,{children:[(0,r.jsx)(i.k,{className:"flex flex-col gap-1",children:"Create New Link"}),(0,r.jsx)(o.I,{children:(0,r.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,r.jsx)(f.g,{onChange:e=>E(e),label:"Platform",size:"sm",radius:"sm",variant:"bordered",classNames:{popoverContent:"bg-[#27272a] border-[#27272a] border-1 border-solid dark"},children:null===x.b||void 0===x.b?void 0:x.b.map(e=>(0,r.jsx)(v.R,{color:"primary",value:null==e?void 0:e.title,textValue:M(null==e?void 0:e.title),startContent:N(null==e?void 0:e.title,"30px"),children:null==e?void 0:e.name},null==e?void 0:e.id))}),(0,r.jsx)(p.Y,{onValueChange:e=>A(e),size:"sm",radius:"sm",type:"text",label:"Username",variant:"bordered"})]})}),(0,r.jsxs)(s.R,{children:[!y&&(0,r.jsx)(d.A,{color:"primary",variant:"light",onPress:()=>R(),children:"Close"}),(0,r.jsx)(d.A,{color:"primary",variant:"solid",onPress:()=>L(),endContent:(0,r.jsx)(b,{size:14}),isLoading:y,children:"Create Link"})]})]})})}let N=(e,n)=>{let t=x.b.find(n=>n.title===e);return(null==t?void 0:t.icon)&&u.cloneElement(t.icon,{style:{height:n,width:n}})};function y(){var e;(0,h.useRouter)();let[n,t]=(0,c.FV)(m.e),[f,v]=(0,c.FV)(C.d),[x,k]=(0,u.useState)(!1),[N,y]=(0,u.useState)({username:""});if((null==n?void 0:n.modalName)!="EditLinkModal")return null;let F=null==n?void 0:n.modalData,w=()=>{t({modalName:null}),y({username:""})},P=()=>{if(!(null==N?void 0:N.username)){g.default.error("Please fill in all the fields");return}k(!0);let e=new Promise(async function(e,n){try{let r={username:null==N?void 0:N.username,platform:null==F?void 0:F.fieldName},l=await(0,j.EW)(r);(null==l?void 0:l.error)===0?(e("Username updated"),t({modalName:null}),v(!f),y({username:""}),k(!1)):(null==l?void 0:l.error)===1&&(n(null==l?void 0:l.msg),k(!1))}catch(e){n("[CLIENT_ERROR] at EditLinkModal"),k(!1)}});g.default.promise(e,{loading:"Updating Username...",success:e=>e,error:e=>e})},R=e=>{y({...N,username:e})};return(0,r.jsx)(l.R,{className:"bg-[#0e1015] border-[#1e1f22] border-1 border-solid dark",backdrop:"opaque",hideCloseButton:!0,placement:"auto",isDismissable:!0,onOpenChange:w,isOpen:(null==n?void 0:n.modalName)==="EditLinkModal",children:(0,r.jsxs)(a.A,{children:[(0,r.jsx)(i.k,{className:"flex flex-col gap-1 capitalize",children:"Edit ".concat(null==F?void 0:F.fieldName," Username")}),(0,r.jsx)(o.I,{children:(0,r.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,r.jsx)(p.Y,{onValueChange:e=>R(e),type:"text",size:"sm",radius:"sm",label:"Platform",value:(e=null==F?void 0:F.fieldName).charAt(0).toUpperCase()+e.slice(1),isDisabled:!0,variant:"bordered"}),(0,r.jsx)(p.Y,{onValueChange:e=>R(e),size:"sm",radius:"sm",type:"text",label:"Username",variant:"bordered"})]})}),(0,r.jsxs)(s.R,{children:[!x&&(0,r.jsx)(d.A,{color:"primary",variant:"light",onPress:()=>w(),children:"Close"}),(0,r.jsx)(d.A,{color:"primary",variant:"solid",onPress:()=>P(),endContent:(0,r.jsx)(b,{size:15}),isLoading:x,children:"Update Username"})]})]})})}var F=t(8714);function w(){let[e,n]=(0,c.FV)(m.e),[t,f]=(0,u.useState)(!1),v=(0,F.createClientComponentClient)(),x=(0,h.useRouter)();if((null==e?void 0:e.modalName)!="logoutModal")return null;let p=()=>{n({modalName:null})},b=async()=>{try{f(!0),await v.auth.signOut(),x.push("/"),p()}catch(e){alert("Failed To Logout!")}};return(0,r.jsx)(l.R,{className:"bg-modalColor",backdrop:"blur",hideCloseButton:!0,isOpen:(null==e?void 0:e.modalName)==="logoutModal",children:(0,r.jsxs)(a.A,{children:[(0,r.jsx)(i.k,{className:"flex flex-col gap-1",children:"Attention ⚠️"}),(0,r.jsx)(o.I,{children:(0,r.jsx)("p",{children:"You are about to logout from your account. Are you sure you want to continue?"})}),(0,r.jsxs)(s.R,{children:[!t&&(0,r.jsx)(d.A,{color:"primary",variant:"light",onPress:()=>p(),children:"Close"}),(0,r.jsx)(d.A,{color:"primary",variant:"solid",isLoading:t,onPress:async()=>await b(),children:"Logout"})]})]})})}let P=()=>{let[e,n]=(0,u.useState)(!1);return((0,u.useEffect)(()=>{n(!0)},[]),e)?(0,r.jsxs)(u.Fragment,{children:[(0,r.jsx)(w,{}),(0,r.jsx)(k,{}),(0,r.jsx)(y,{})]}):null}},1616:function(e,n,t){"use strict";t.r(n),t.d(n,{NextProviders:function(){return s}});var r=t(3827),l=t(9441),a=t(3308),i=t(4772),o=e=>{let{children:n,locale:t="en-US",navigate:o,...s}=e,d=n;return o&&(d=(0,r.jsx)(a.pG,{navigate:o,children:d})),(0,r.jsx)(l.bd,{locale:t,children:(0,r.jsx)(i.N3,{...s,children:d})})};function s(e){let{children:n}=e;return(0,r.jsx)(o,{children:n})}},7634:function(e,n,t){"use strict";t.r(n);var r=t(3827),l=t(2153);n.default=e=>{let{children:n}=e;return(0,r.jsx)(l.Wh,{children:n})}},2445:function(){}},function(e){e.O(0,[691,950,423,404,428,714,908,876,954,633,9,971,69,744],function(){return e(e.s=9852)}),_N_E=e.O()}]);